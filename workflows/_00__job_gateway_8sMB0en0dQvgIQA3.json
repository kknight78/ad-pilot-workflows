{
  "updatedAt": "2026-02-08T15:28:49.256Z",
  "createdAt": "2026-01-26T23:34:45.209Z",
  "id": "8sMB0en0dQvgIQA3",
  "name": "[00] Job Gateway",
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "ad-pilot/start",
        "responseMode": "responseNode",
        "options": {
          "allowedOrigins": "*"
        }
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        0,
        0
      ],
      "id": "0601f717-d956-47a1-9856-418dc30251a1",
      "name": "Webhook - Start Job",
      "webhookId": "6e06ccb4-aa25-4d87-a4e7-196034791426"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "jobs",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {},
          "matchingColumns": [],
          "schema": [
            {
              "id": "job_id",
              "displayName": "job_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "job_type",
              "displayName": "job_type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "client_id",
              "displayName": "client_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "template_id",
              "displayName": "template_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "created_at",
              "displayName": "created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "updated_at",
              "displayName": "updated_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "input_payload",
              "displayName": "input_payload",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "script_data",
              "displayName": "script_data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "generated_copy",
              "displayName": "generated_copy",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "video_url",
              "displayName": "video_url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "error_message",
              "displayName": "error_message",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "api_cache",
              "displayName": "api_cache",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        272,
        0
      ],
      "id": "057f7fb5-3194-44cd-a169-568a5852b1a2",
      "name": "Create Job Row",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "Q7zq2LAmxWgFj6o6",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"job_id\": \"{{ $('Generate Job ID').item.json.job_id }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        400,
        0
      ],
      "id": "89ca0f4b-5ca0-4044-a240-803d82540e98",
      "name": "Job Created"
    },
    {
      "parameters": {
        "jsCode": "const jobId = Date.now().toString(36) + Math.random().toString(36).substring(2, 9);\nconst now = new Date().toISOString();\n\nif (!$json.body.client_id) throw new Error('client_id is required \\u2014 no fallback allowed');\n\nreturn [{\n  json: {\n    job_id: jobId,\n    status: 'pending',\n    job_type: $json.body.preview_mode ? 'script_preview' : 'full_video',\n    client_id: $json.body.client_id,\n    template_id: $json.body.template_id,\n    created_at: now,\n    updated_at: now,\n    input_payload: JSON.stringify($json.body),\n    script_data: '',\n    video_url: '',\n    error_message: ''\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        144,
        0
      ],
      "id": "61bfe135-8701-4941-9362-5e4d48c0f1ef",
      "name": "Generate Job ID"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://ad-pilot-n8n-development.up.railway.app/webhook/ad-pilot",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify($json) }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        864,
        0
      ],
      "id": "3a91219f-5dea-4cca-8cdf-52708aecd316",
      "name": "Call Orchestration"
    },
    {
      "parameters": {
        "jsCode": "const jobId = $('Generate Job ID').item.json.job_id;\nconst originalPayload = JSON.parse($('Generate Job ID').item.json.input_payload);\n\nreturn [{\n  json: {\n    ...originalPayload,\n    job_id: jobId\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        688,
        0
      ],
      "id": "ea45504f-2a1c-4d05-ae9f-bd14ee71cc6c",
      "name": "Prepare Orchestration Payload"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
          "mode": "list",
          "cachedResultName": "Ad Pilot - Jobs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "jobs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "job_id": "={{ $('Generate Job ID').item.json.job_id }}",
            "status": "processing",
            "updated_at": "={{ new Date().toISOString() }}"
          },
          "matchingColumns": [
            "job_id"
          ],
          "schema": [
            {
              "id": "job_id",
              "displayName": "job_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "job_type",
              "displayName": "job_type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "client_id",
              "displayName": "client_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "template_id",
              "displayName": "template_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "created_at",
              "displayName": "created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "updated_at",
              "displayName": "updated_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "input_payload",
              "displayName": "input_payload",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "script_data",
              "displayName": "script_data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "video_url",
              "displayName": "video_url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "error_message",
              "displayName": "error_message",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        528,
        0
      ],
      "id": "60f22ffd-16b6-4a29-bd94-bebf766d2467",
      "name": "Update Status to Processing",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "Q7zq2LAmxWgFj6o6",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
          "mode": "list",
          "cachedResultName": "Ad Pilot - Jobs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "jobs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "job_id": "={{ $('Generate Job ID').item.json.job_id }}",
            "status": "={{ $json.final_video_url ? 'complete' : 'script_ready' }}",
            "updated_at": "={{ new Date().toISOString() }}",
            "video_url": "={{ $json.final_video_url || '' }}",
            "api_cache": "={{ $json.test_mode ? JSON.stringify({ api_claude_script_generation: $json.api_claude_script_generation, api_claude_categorize_photos: $json.api_claude_categorize_photos, api_claude_feature_identification: $json.api_claude_feature_identification }) : '' }}"
          },
          "matchingColumns": [
            "job_id"
          ],
          "schema": [
            {
              "id": "job_id",
              "displayName": "job_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "job_type",
              "displayName": "job_type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "client_id",
              "displayName": "client_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "template_id",
              "displayName": "template_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "created_at",
              "displayName": "created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "updated_at",
              "displayName": "updated_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "input_payload",
              "displayName": "input_payload",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "script_data",
              "displayName": "script_data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "video_url",
              "displayName": "video_url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "error_message",
              "displayName": "error_message",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "api_cache",
              "displayName": "api_cache",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1040,
        0
      ],
      "id": "8cb1c501-5b38-4ef7-84e7-333db9a2b0dc",
      "name": "Update Job Complete",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "Q7zq2LAmxWgFj6o6",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.errorTrigger",
      "typeVersion": 1,
      "position": [
        0,
        128
      ],
      "id": "8a3e6f21-92df-49a4-b357-0ec6c010204f",
      "name": "Error Trigger"
    },
    {
      "parameters": {
        "path": "ad-pilot/status",
        "responseMode": "responseNode",
        "options": {
          "allowedOrigins": "*"
        }
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        0,
        272
      ],
      "id": "1f526cc4-4011-4dd2-a6f0-348f42834722",
      "name": "Webhook - Job Status",
      "webhookId": "bf904f36-d30d-4698-bef3-6b00d6800121"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
          "mode": "list",
          "cachedResultName": "Ad Pilot - Jobs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "jobs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "job_id",
              "lookupValue": "={{ $json.query.job_id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        160,
        272
      ],
      "id": "66a9cdce-7397-48e9-a3c4-7e1231d18423",
      "name": "Get row(s) in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "Q7zq2LAmxWgFj6o6",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        528,
        272
      ],
      "id": "b8007d90-0880-4f31-8c11-b5be060b94b6",
      "name": "Respond to Webhook - Job Status"
    },
    {
      "parameters": {
        "jsCode": "const row = $input.first().json;\n\n// Parse api_cache if it exists\nlet apiCache = {};\nif (row.api_cache) {\n  try {\n    apiCache = JSON.parse(row.api_cache);\n  } catch (e) {\n    // Ignore parse errors\n  }\n}\n\n// Parse generated_copy if it exists\nlet generatedCopy = null;\nif (row.generated_copy) {\n  try {\n    generatedCopy = JSON.parse(row.generated_copy);\n  } catch (e) {\n    // Ignore parse errors\n  }\n}\n\nreturn [{\n  json: {\n    job_id: row.job_id,\n    status: row.status,\n    script_data: row.script_data ? JSON.parse(row.script_data) : null,\n    generated_copy: generatedCopy,\n    video_url: row.video_url || null,\n    error_message: row.error_message || null,\n    ...apiCache\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        336,
        272
      ],
      "id": "9789fa6f-f1ab-4a8c-9a78-ecb4b2e69cf5",
      "name": "Format Status Response"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
          "mode": "list",
          "cachedResultName": "Ad Pilot - Jobs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "jobs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "job_id": "={{ $json.execution?.data?.resultData?.runData?.['Generate Job ID']?.[0]?.data?.main?.[0]?.[0]?.json?.job_id || 'unknown' }}",
            "updated_at": "={{ new Date().toISOString() }}",
            "error_message": "={{ $json.execution?.error?.message }}",
            "status": "failed"
          },
          "matchingColumns": [
            "job_id"
          ],
          "schema": [
            {
              "id": "job_id",
              "displayName": "job_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "job_type",
              "displayName": "job_type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "client_id",
              "displayName": "client_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "template_id",
              "displayName": "template_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "created_at",
              "displayName": "created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "updated_at",
              "displayName": "updated_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "input_payload",
              "displayName": "input_payload",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "script_data",
              "displayName": "script_data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "video_url",
              "displayName": "video_url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "error_message",
              "displayName": "error_message",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        160,
        128
      ],
      "id": "aa6ef0ce-c5e1-467d-8ef6-71c0845f9f80",
      "name": "Update on Failure",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "Q7zq2LAmxWgFj6o6",
          "name": "Google Sheets account"
        }
      }
    }
  ],
  "connections": {
    "Webhook - Start Job": {
      "main": [
        [
          {
            "node": "Generate Job ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Job Row": {
      "main": [
        [
          {
            "node": "Job Created",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Job ID": {
      "main": [
        [
          {
            "node": "Create Job Row",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Job Created": {
      "main": [
        [
          {
            "node": "Update Status to Processing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare Orchestration Payload": {
      "main": [
        [
          {
            "node": "Call Orchestration",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update Status to Processing": {
      "main": [
        [
          {
            "node": "Prepare Orchestration Payload",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Call Orchestration": {
      "main": [
        [
          {
            "node": "Update Job Complete",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update Job Complete": {
      "main": [
        []
      ]
    },
    "Error Trigger": {
      "main": [
        [
          {
            "node": "Update on Failure",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook - Job Status": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Format Status Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Status Response": {
      "main": [
        [
          {
            "node": "Respond to Webhook - Job Status",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": true,
    "callerPolicy": "workflowsFromSameOwner"
  },
  "staticData": null,
  "meta": null,
  "pinData": {},
  "versionId": "0a6bd18c-5338-4efd-8462-6e6880db2c01",
  "activeVersionId": "0a6bd18c-5338-4efd-8462-6e6880db2c01",
  "triggerCount": 2,
  "shared": [
    {
      "updatedAt": "2026-01-26T23:34:45.209Z",
      "createdAt": "2026-01-26T23:34:45.209Z",
      "role": "workflow:owner",
      "workflowId": "8sMB0en0dQvgIQA3",
      "projectId": "jfzY6AcGvieAQa3s"
    }
  ],
  "activeVersion": {
    "updatedAt": "2026-02-08T15:28:49.258Z",
    "createdAt": "2026-02-08T15:28:49.258Z",
    "versionId": "0a6bd18c-5338-4efd-8462-6e6880db2c01",
    "workflowId": "8sMB0en0dQvgIQA3",
    "nodes": [
      {
        "parameters": {
          "httpMethod": "POST",
          "path": "ad-pilot/start",
          "responseMode": "responseNode",
          "options": {
            "allowedOrigins": "*"
          }
        },
        "type": "n8n-nodes-base.webhook",
        "typeVersion": 2.1,
        "position": [
          0,
          0
        ],
        "id": "0601f717-d956-47a1-9856-418dc30251a1",
        "name": "Webhook - Start Job",
        "webhookId": "6e06ccb4-aa25-4d87-a4e7-196034791426"
      },
      {
        "parameters": {
          "operation": "append",
          "documentId": {
            "__rl": true,
            "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
            "mode": "id"
          },
          "sheetName": {
            "__rl": true,
            "value": "jobs",
            "mode": "name"
          },
          "columns": {
            "mappingMode": "autoMapInputData",
            "value": {},
            "matchingColumns": [],
            "schema": [
              {
                "id": "job_id",
                "displayName": "job_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "status",
                "displayName": "status",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "job_type",
                "displayName": "job_type",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "client_id",
                "displayName": "client_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "template_id",
                "displayName": "template_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "created_at",
                "displayName": "created_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "updated_at",
                "displayName": "updated_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "input_payload",
                "displayName": "input_payload",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "script_data",
                "displayName": "script_data",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "generated_copy",
                "displayName": "generated_copy",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "video_url",
                "displayName": "video_url",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "error_message",
                "displayName": "error_message",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "api_cache",
                "displayName": "api_cache",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          272,
          0
        ],
        "id": "057f7fb5-3194-44cd-a169-568a5852b1a2",
        "name": "Create Job Row",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "Q7zq2LAmxWgFj6o6",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {
          "respondWith": "json",
          "responseBody": "={\n  \"success\": true,\n  \"job_id\": \"{{ $('Generate Job ID').item.json.job_id }}\"\n}",
          "options": {}
        },
        "type": "n8n-nodes-base.respondToWebhook",
        "typeVersion": 1.4,
        "position": [
          400,
          0
        ],
        "id": "89ca0f4b-5ca0-4044-a240-803d82540e98",
        "name": "Job Created"
      },
      {
        "parameters": {
          "jsCode": "const jobId = Date.now().toString(36) + Math.random().toString(36).substring(2, 9);\nconst now = new Date().toISOString();\n\nif (!$json.body.client_id) throw new Error('client_id is required \\u2014 no fallback allowed');\n\nreturn [{\n  json: {\n    job_id: jobId,\n    status: 'pending',\n    job_type: $json.body.preview_mode ? 'script_preview' : 'full_video',\n    client_id: $json.body.client_id,\n    template_id: $json.body.template_id,\n    created_at: now,\n    updated_at: now,\n    input_payload: JSON.stringify($json.body),\n    script_data: '',\n    video_url: '',\n    error_message: ''\n  }\n}];"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          144,
          0
        ],
        "id": "61bfe135-8701-4941-9362-5e4d48c0f1ef",
        "name": "Generate Job ID"
      },
      {
        "parameters": {
          "method": "POST",
          "url": "https://ad-pilot-n8n-development.up.railway.app/webhook/ad-pilot",
          "sendBody": true,
          "specifyBody": "json",
          "jsonBody": "={{ JSON.stringify($json) }}",
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          864,
          0
        ],
        "id": "3a91219f-5dea-4cca-8cdf-52708aecd316",
        "name": "Call Orchestration"
      },
      {
        "parameters": {
          "jsCode": "const jobId = $('Generate Job ID').item.json.job_id;\nconst originalPayload = JSON.parse($('Generate Job ID').item.json.input_payload);\n\nreturn [{\n  json: {\n    ...originalPayload,\n    job_id: jobId\n  }\n}];"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          688,
          0
        ],
        "id": "ea45504f-2a1c-4d05-ae9f-bd14ee71cc6c",
        "name": "Prepare Orchestration Payload"
      },
      {
        "parameters": {
          "operation": "update",
          "documentId": {
            "__rl": true,
            "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
            "mode": "list",
            "cachedResultName": "Ad Pilot - Jobs",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": "gid=0",
            "mode": "list",
            "cachedResultName": "jobs",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit#gid=0"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "job_id": "={{ $('Generate Job ID').item.json.job_id }}",
              "status": "processing",
              "updated_at": "={{ new Date().toISOString() }}"
            },
            "matchingColumns": [
              "job_id"
            ],
            "schema": [
              {
                "id": "job_id",
                "displayName": "job_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "status",
                "displayName": "status",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "job_type",
                "displayName": "job_type",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "client_id",
                "displayName": "client_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "template_id",
                "displayName": "template_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "created_at",
                "displayName": "created_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "updated_at",
                "displayName": "updated_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "input_payload",
                "displayName": "input_payload",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "script_data",
                "displayName": "script_data",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "video_url",
                "displayName": "video_url",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "error_message",
                "displayName": "error_message",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "row_number",
                "displayName": "row_number",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "number",
                "canBeUsedToMatch": true,
                "readOnly": true,
                "removed": true
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          528,
          0
        ],
        "id": "60f22ffd-16b6-4a29-bd94-bebf766d2467",
        "name": "Update Status to Processing",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "Q7zq2LAmxWgFj6o6",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {
          "operation": "update",
          "documentId": {
            "__rl": true,
            "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
            "mode": "list",
            "cachedResultName": "Ad Pilot - Jobs",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": "gid=0",
            "mode": "list",
            "cachedResultName": "jobs",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit#gid=0"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "job_id": "={{ $('Generate Job ID').item.json.job_id }}",
              "status": "={{ $json.final_video_url ? 'complete' : 'script_ready' }}",
              "updated_at": "={{ new Date().toISOString() }}",
              "video_url": "={{ $json.final_video_url || '' }}",
              "api_cache": "={{ $json.test_mode ? JSON.stringify({ api_claude_script_generation: $json.api_claude_script_generation, api_claude_categorize_photos: $json.api_claude_categorize_photos, api_claude_feature_identification: $json.api_claude_feature_identification }) : '' }}"
            },
            "matchingColumns": [
              "job_id"
            ],
            "schema": [
              {
                "id": "job_id",
                "displayName": "job_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "status",
                "displayName": "status",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "job_type",
                "displayName": "job_type",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "client_id",
                "displayName": "client_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "template_id",
                "displayName": "template_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "created_at",
                "displayName": "created_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "updated_at",
                "displayName": "updated_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "input_payload",
                "displayName": "input_payload",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "script_data",
                "displayName": "script_data",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "video_url",
                "displayName": "video_url",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "error_message",
                "displayName": "error_message",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "api_cache",
                "displayName": "api_cache",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "row_number",
                "displayName": "row_number",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "number",
                "canBeUsedToMatch": true,
                "readOnly": true,
                "removed": true
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          1040,
          0
        ],
        "id": "8cb1c501-5b38-4ef7-84e7-333db9a2b0dc",
        "name": "Update Job Complete",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "Q7zq2LAmxWgFj6o6",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {},
        "type": "n8n-nodes-base.errorTrigger",
        "typeVersion": 1,
        "position": [
          0,
          128
        ],
        "id": "8a3e6f21-92df-49a4-b357-0ec6c010204f",
        "name": "Error Trigger"
      },
      {
        "parameters": {
          "path": "ad-pilot/status",
          "responseMode": "responseNode",
          "options": {
            "allowedOrigins": "*"
          }
        },
        "type": "n8n-nodes-base.webhook",
        "typeVersion": 2.1,
        "position": [
          0,
          272
        ],
        "id": "1f526cc4-4011-4dd2-a6f0-348f42834722",
        "name": "Webhook - Job Status",
        "webhookId": "bf904f36-d30d-4698-bef3-6b00d6800121"
      },
      {
        "parameters": {
          "documentId": {
            "__rl": true,
            "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
            "mode": "list",
            "cachedResultName": "Ad Pilot - Jobs",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": "gid=0",
            "mode": "list",
            "cachedResultName": "jobs",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit#gid=0"
          },
          "filtersUI": {
            "values": [
              {
                "lookupColumn": "job_id",
                "lookupValue": "={{ $json.query.job_id }}"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          160,
          272
        ],
        "id": "66a9cdce-7397-48e9-a3c4-7e1231d18423",
        "name": "Get row(s) in sheet",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "Q7zq2LAmxWgFj6o6",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "n8n-nodes-base.respondToWebhook",
        "typeVersion": 1.4,
        "position": [
          528,
          272
        ],
        "id": "b8007d90-0880-4f31-8c11-b5be060b94b6",
        "name": "Respond to Webhook - Job Status"
      },
      {
        "parameters": {
          "jsCode": "const row = $input.first().json;\n\n// Parse api_cache if it exists\nlet apiCache = {};\nif (row.api_cache) {\n  try {\n    apiCache = JSON.parse(row.api_cache);\n  } catch (e) {\n    // Ignore parse errors\n  }\n}\n\n// Parse generated_copy if it exists\nlet generatedCopy = null;\nif (row.generated_copy) {\n  try {\n    generatedCopy = JSON.parse(row.generated_copy);\n  } catch (e) {\n    // Ignore parse errors\n  }\n}\n\nreturn [{\n  json: {\n    job_id: row.job_id,\n    status: row.status,\n    script_data: row.script_data ? JSON.parse(row.script_data) : null,\n    generated_copy: generatedCopy,\n    video_url: row.video_url || null,\n    error_message: row.error_message || null,\n    ...apiCache\n  }\n}];"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          336,
          272
        ],
        "id": "9789fa6f-f1ab-4a8c-9a78-ecb4b2e69cf5",
        "name": "Format Status Response"
      },
      {
        "parameters": {
          "operation": "update",
          "documentId": {
            "__rl": true,
            "value": "1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0",
            "mode": "list",
            "cachedResultName": "Ad Pilot - Jobs",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": "gid=0",
            "mode": "list",
            "cachedResultName": "jobs",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VQuJs5F_jR9cv-yobmkRoQLhUQmQJTnawFB5I29Hrs0/edit#gid=0"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "job_id": "={{ $json.execution?.data?.resultData?.runData?.['Generate Job ID']?.[0]?.data?.main?.[0]?.[0]?.json?.job_id || 'unknown' }}",
              "updated_at": "={{ new Date().toISOString() }}",
              "error_message": "={{ $json.execution?.error?.message }}",
              "status": "failed"
            },
            "matchingColumns": [
              "job_id"
            ],
            "schema": [
              {
                "id": "job_id",
                "displayName": "job_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "status",
                "displayName": "status",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "job_type",
                "displayName": "job_type",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "client_id",
                "displayName": "client_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "template_id",
                "displayName": "template_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "created_at",
                "displayName": "created_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "updated_at",
                "displayName": "updated_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "input_payload",
                "displayName": "input_payload",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "script_data",
                "displayName": "script_data",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "video_url",
                "displayName": "video_url",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "error_message",
                "displayName": "error_message",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "row_number",
                "displayName": "row_number",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "number",
                "canBeUsedToMatch": true,
                "readOnly": true,
                "removed": true
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          160,
          128
        ],
        "id": "aa6ef0ce-c5e1-467d-8ef6-71c0845f9f80",
        "name": "Update on Failure",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "Q7zq2LAmxWgFj6o6",
            "name": "Google Sheets account"
          }
        }
      }
    ],
    "connections": {
      "Webhook - Start Job": {
        "main": [
          [
            {
              "node": "Generate Job ID",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create Job Row": {
        "main": [
          [
            {
              "node": "Job Created",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Generate Job ID": {
        "main": [
          [
            {
              "node": "Create Job Row",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Job Created": {
        "main": [
          [
            {
              "node": "Update Status to Processing",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare Orchestration Payload": {
        "main": [
          [
            {
              "node": "Call Orchestration",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update Status to Processing": {
        "main": [
          [
            {
              "node": "Prepare Orchestration Payload",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Call Orchestration": {
        "main": [
          [
            {
              "node": "Update Job Complete",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update Job Complete": {
        "main": [
          []
        ]
      },
      "Error Trigger": {
        "main": [
          [
            {
              "node": "Update on Failure",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Webhook - Job Status": {
        "main": [
          [
            {
              "node": "Get row(s) in sheet",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get row(s) in sheet": {
        "main": [
          [
            {
              "node": "Format Status Response",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Format Status Response": {
        "main": [
          [
            {
              "node": "Respond to Webhook - Job Status",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "Kelly Knight",
    "name": null,
    "description": null,
    "autosaved": false
  },
  "tags": []
}